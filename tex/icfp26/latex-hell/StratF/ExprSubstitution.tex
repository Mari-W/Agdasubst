\begin{code}[hide]%
\>[0]\AgdaComment{--\ This\ file\ contains\ the\ definitions\ for\ expression\ renamings\ and}\<%
\\
\>[0]\AgdaComment{--\ substitutions\ and\ related\ operations\ like\ lifting\ and\ composition.}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{StratF.ExprSubstitution}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Level}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.List}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{List}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaInductiveConstructor{[]}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}∷\AgdaUnderscore{}}}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Function}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}∘\AgdaUnderscore{}}}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{id}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Relation.Binary.PropositionalEquality}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaDatatype{\AgdaUnderscore{}≡\AgdaUnderscore{}}}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}≢\AgdaUnderscore{}}}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{sym}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{trans}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{cong₂}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{subst₂}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{resp₂}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{cong-app}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{icong}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{≡-Reasoning}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{≡-Reasoning}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{StratF.Expressions}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{StratF.TypeSubstProperties}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{StratF.TypeSubstitution}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{StratF.Types}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ expression\ renamings}\<%
\\
\>[0]\<%
\end{code} 
\newcommand*\SubDefERen{\begin{AgdaAlign}\begin{AgdaSuppressSpace}\begin{code}%
\>[0]\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TRen}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaPrimitive{Set}\<%
\\
\>[0]\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Δ₁}\AgdaSymbol{\}\{}\AgdaBound{Δ₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{T}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Type}\AgdaSpace{}%
\AgdaBound{Δ₁}\AgdaSpace{}%
\AgdaBound{l}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{inn}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{inn}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{Γ₂}\<%
\end{code}\end{AgdaSuppressSpace}\end{AgdaAlign}}

\newcommand*\SubDefEidR{\begin{AgdaAlign}\begin{AgdaSuppressSpace}\begin{code}%
\>[0]\AgdaFunction{Eidᵣ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaFunction{Tidᵣ}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\<%
\\
\>[0]\AgdaFunction{Eidᵣ}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(λ}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{inn}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{})}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{sym}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{TidᵣT≡T}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaBound{x}\<%
\end{code}\end{AgdaSuppressSpace}\end{AgdaAlign}}

\begin{code}[hide]%
\>[0]\AgdaFunction{Edropᵣ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TRen}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\<%
\\
\>[0]\AgdaFunction{Edropᵣ}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{Ewkᵣ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{l}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{T}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Type}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSpace{}%
\AgdaBound{l}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TRen}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{T}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{Ewkᵣ}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{Eliftᵣ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TRen}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{Eliftᵣ}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{here}\<%
\\
\>[0]\AgdaFunction{Eliftᵣ}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{Eliftᵣ-l}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TRen}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tliftᵣ}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaGeneralizable{l}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁*}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁*}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{Eliftᵣ-l}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ₂}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{l}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{l}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{tskip}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaFunction{id}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{cong}\AgdaSpace{}%
\AgdaSymbol{(λ}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{inn}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁*}}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{sym}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{swap-Tren-Twk}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{})))}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{tskip}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\\
\>[0]\<%
\end{code} 
\newcommand*\SubDefEren{\begin{AgdaAlign}\begin{AgdaSuppressSpace}\begin{code}%
\>[0]\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TRen}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaGeneralizable{T}\AgdaSymbol{)}\<%
\end{code}\end{AgdaSuppressSpace}\end{AgdaAlign}}

\begin{code}[hide]%
\>[0]\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{\#}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{\#}}\AgdaSpace{}%
\AgdaBound{n}\<%
\\
\>[0]\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{`suc}\AgdaSpace{}%
\AgdaBound{e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{`suc}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
\>[0]\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{ƛ}}\AgdaSpace{}%
\AgdaBound{e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{ƛ}}\AgdaSpace{}%
\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Eliftᵣ}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{e}\<%
\\
\>[0]\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{e₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{·}}\AgdaSpace{}%
\AgdaBound{e₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaBound{e₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{·}}\AgdaSpace{}%
\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaBound{e₂}\<%
\\
\>[0]\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{Λ}}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{⇒}}\AgdaSpace{}%
\AgdaBound{e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{Λ}}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{⇒}}\AgdaSpace{}%
\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tliftᵣ}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{l}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Eliftᵣ-l}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{e}\<%
\\
\>[0]\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Δ₂}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ₂}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{T}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaDottedPattern{\AgdaSymbol{.(}}\AgdaDottedPattern{\AgdaBound{T}}\AgdaSpace{}%
\AgdaDottedPattern{\AgdaOperator{\AgdaFunction{[}}}\AgdaSpace{}%
\AgdaDottedPattern{\AgdaBound{T′}}\AgdaSpace{}%
\AgdaDottedPattern{\AgdaOperator{\AgdaFunction{]T}}}\AgdaDottedPattern{\AgdaSymbol{)}}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}∙\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{T}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{e}\AgdaSpace{}%
\AgdaBound{T′}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{sym}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{swap-Tren-[]}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{T′}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaBound{e}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∙}}\AgdaSpace{}%
\AgdaFunction{Tren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{T′}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{Ewk}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSpace{}%
\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{T₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaGeneralizable{T}\<%
\\
\>[0]\AgdaFunction{Ewk}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{T}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{e}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(λ}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{TidᵣT≡T}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Ewkᵣ}\AgdaSpace{}%
\AgdaFunction{Tidᵣ}\AgdaSpace{}%
\AgdaFunction{Eidᵣ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{e}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{Ewkᵣ-l}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{l}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaPostulate{Level}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Twkᵣ}\AgdaSpace{}%
\AgdaFunction{Tidᵣ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁*}}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{Ewkᵣ-l}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{tskip}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{Ewk-l}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSpace{}%
\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∷}}\AgdaSpace{}%
\AgdaGeneralizable{Δ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁*}}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Twk}\AgdaSpace{}%
\AgdaGeneralizable{T}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{Ewk-l}\AgdaSpace{}%
\AgdaBound{e}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Ewkᵣ-l}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{})}\AgdaSpace{}%
\AgdaBound{e}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ expression\ substitutions}\<%
\\
\>[0]\<%
\end{code} 
\newcommand*\SubDefESub{\begin{AgdaAlign}\begin{AgdaSuppressSpace}\begin{code}%
\>[0]\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TSub}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaPrimitive{Set}\<%
\\
\>[0]\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Δ₁}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Δ₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Δ₂}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{=}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{T}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Type}\AgdaSpace{}%
\AgdaBound{Δ₁}\AgdaSpace{}%
\AgdaBound{l}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{inn}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tsub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{)}\<%
\end{code}\end{AgdaSuppressSpace}\end{AgdaAlign}}

\newcommand*\SubDefEidS{\begin{AgdaAlign}\begin{AgdaSuppressSpace}\begin{code}%
\>[0]\AgdaFunction{Eidₛ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaFunction{Tidₛ}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\<%
\\
\>[0]\AgdaFunction{Eidₛ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{})}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{sym}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{TidₛT≡T}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaComment{--\ Eidₛ\ \AgdaUnderscore{}\ T\ rewrite\ TidₛT≡T\ T\ =\ `\AgdaUnderscore{}}\<%
\end{code}\end{AgdaSuppressSpace}\end{AgdaAlign}}

\begin{code}[hide]%
\>[0]\AgdaFunction{Ewkₛ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TSub}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{Ewkₛ}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Ewk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{Edropₛ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TSub}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\<%
\\
\>[0]\AgdaFunction{Edropₛ}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
\>[0]\<%
\end{code} 
\newcommand*\SubDefEsub{\begin{AgdaAlign}\begin{AgdaSuppressSpace}\begin{code}%
\>[0]\AgdaFunction{Esub}%
\>[10]\AgdaSymbol{:}%
\>[13]\AgdaSymbol{(}\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TSub}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[13]\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tsub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{T}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{Eliftₛ}%
\>[10]\AgdaSymbol{:}%
\>[13]\AgdaSymbol{(}\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TSub}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[13]\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tsub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{Eliftₛ-l}%
\>[10]\AgdaSymbol{:}%
\>[13]\AgdaSymbol{(}\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TSub}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[13]\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tliftₛ}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{l}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁*}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁*}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSymbol{)}\<%
\end{code}\end{AgdaSuppressSpace}\end{AgdaAlign}}

\begin{code}[hide]%
\>[0]\AgdaFunction{Eliftₛ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaInductiveConstructor{here}\<%
\\
\>[0]\AgdaFunction{Eliftₛ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Ewk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{Eliftₛ-l}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{tskip}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{T}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{})}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{sym}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{swap-Tsub-Twk}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Ewk-l}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{\#}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{\#}}\AgdaSpace{}%
\AgdaBound{n}\<%
\\
\>[0]\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{`suc}\AgdaSpace{}%
\AgdaBound{e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{`suc}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
\>[0]\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{ƛ}}\AgdaSpace{}%
\AgdaBound{e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{ƛ}}\AgdaSpace{}%
\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Eliftₛ}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{e}\<%
\\
\>[0]\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{e₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{·}}\AgdaSpace{}%
\AgdaBound{e₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{e₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{·}}\AgdaSpace{}%
\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{e₂}\<%
\\
\>[0]\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{Λ}}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{⇒}}\AgdaSpace{}%
\AgdaBound{e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{Λ}}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{⇒}}\AgdaSpace{}%
\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tliftₛ}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{})}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Eliftₛ-l}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{e}\<%
\\
\>[0]\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}∙\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{T}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{e}\AgdaSpace{}%
\AgdaBound{T′}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{})}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{sym}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{swap-Tsub-[]}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{T′}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{e}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∙}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tsub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{T′}\AgdaSymbol{))}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{Eextₛ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TSub}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tsub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{T}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\<%
\\
\>[0]\AgdaFunction{Eextₛ}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{e'}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{e'}\<%
\\
\>[0]\AgdaFunction{Eextₛ}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{e'}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{Eextₛ-l}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TSub}\AgdaSpace{}%
\AgdaGeneralizable{Δ₁}\AgdaSpace{}%
\AgdaGeneralizable{Δ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Textₛ}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaGeneralizable{T}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁*}}\AgdaSpace{}%
\AgdaGeneralizable{Γ₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaGeneralizable{Γ₂}\<%
\\
\>[0]\AgdaFunction{Eextₛ-l}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Δ₂}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ₂}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{tskip}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{T}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{sym}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{σT≡TextₛσTwkT}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}[\AgdaUnderscore{}]E}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{T₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaGeneralizable{T₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSpace{}%
\AgdaGeneralizable{T₁}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSpace{}%
\AgdaGeneralizable{T₂}\<%
\\
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}[\AgdaUnderscore{}]E}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{T₁}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{T₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{T₂}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{T₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{e}\AgdaSpace{}%
\AgdaBound{e′}\AgdaSpace{}%
\AgdaSymbol{=}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{})}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{TidₛT≡T}\AgdaSpace{}%
\AgdaBound{T₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaFunction{Tidₛ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Eextₛ}\AgdaSpace{}%
\AgdaFunction{Tidₛ}\AgdaSpace{}%
\AgdaFunction{Eidₛ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{})}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{sym}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{TidₛT≡T}\AgdaSpace{}%
\AgdaBound{T₁}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaBound{e′}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaBound{e}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}[\AgdaUnderscore{}]ET}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∷}}\AgdaSpace{}%
\AgdaGeneralizable{Δ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁*}}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{T′}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Type}\AgdaSpace{}%
\AgdaGeneralizable{Δ}\AgdaSpace{}%
\AgdaGeneralizable{l}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{T}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{T′}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]T}}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaBound{e}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{T′}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]ET}}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Textₛ}\AgdaSpace{}%
\AgdaFunction{Tidₛ}\AgdaSpace{}%
\AgdaBound{T′}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Eextₛ-l}\AgdaSpace{}%
\AgdaFunction{Tidₛ}\AgdaSpace{}%
\AgdaFunction{Eidₛ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{e}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{sub0}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Tsub}\AgdaSpace{}%
\AgdaFunction{Tidₛ}\AgdaSpace{}%
\AgdaGeneralizable{T₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaFunction{Tidₛ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{T₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\<%
\\
\>[0]\AgdaFunction{sub0}\AgdaSpace{}%
\AgdaBound{e′}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Eextₛ}\AgdaSpace{}%
\AgdaFunction{Tidₛ}\AgdaSpace{}%
\AgdaFunction{Eidₛ}\AgdaSpace{}%
\AgdaBound{e′}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{sub0′}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaGeneralizable{Δ}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSpace{}%
\AgdaGeneralizable{T₁}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaFunction{Tidₛ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{T₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{◁}}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaGeneralizable{Γ}\<%
\\
\>[0]\AgdaFunction{sub0′}\AgdaSpace{}%
\AgdaBound{e′}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Eextₛ}\AgdaSpace{}%
\AgdaFunction{Tidₛ}\AgdaSpace{}%
\AgdaFunction{Eidₛ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{})}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{sym}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{TidₛT≡T}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}))}\AgdaSpace{}%
\AgdaBound{e′}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ composition\ of\ expression\ substitutions\ and\ renamings}\<%
\\
\>[0]\<%
\end{code} 
\newcommand*\SubDefECompositionRR{\begin{AgdaAlign}\begin{AgdaSuppressSpace}\begin{code}%
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}>>RR\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Δ₁}\AgdaSymbol{\}\{}\AgdaBound{Δ₂}\AgdaSymbol{\}\{}\AgdaBound{Δ₃}\AgdaSymbol{\}\{}\AgdaBound{ρ₁*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TRen}\AgdaSpace{}%
\AgdaBound{Δ₁}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{ρ₂*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TRen}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaBound{Δ₁}\AgdaSymbol{\}\{}\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSymbol{\}\{}\AgdaBound{Γ₃}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSymbol{\}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaBound{ρ₁*}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaBound{ρ₂*}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaBound{Γ₃}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ₁*}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∘ᵣᵣ}}\AgdaSpace{}%
\AgdaBound{ρ₂*}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaBound{Γ₃}\<%
\\
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}>>RR\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Δ₃}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSymbol{\}\{}\AgdaArgument{ρ₁*}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{ρ₁*}\AgdaSymbol{\}\{}\AgdaArgument{ρ₂*}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{ρ₂*}\AgdaSymbol{\}\{}\AgdaArgument{Γ₃}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ₃}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{ρ₁}\AgdaSpace{}%
\AgdaBound{ρ₂}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(λ}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{inn}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{Γ₃}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{fusion-Tren-Tren}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{ρ₁*}\AgdaSpace{}%
\AgdaBound{ρ₂*}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ₂}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ₁}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\end{code}\end{AgdaSuppressSpace}\end{AgdaAlign}}

\newcommand*\SubDefECompositionRS{\begin{AgdaAlign}\begin{AgdaSuppressSpace}\begin{code}%
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}>>RS\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Δ₁}\AgdaSymbol{\}\{}\AgdaBound{Δ₂}\AgdaSymbol{\}\{}\AgdaBound{Δ₃}\AgdaSymbol{\}\{}\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TRen}\AgdaSpace{}%
\AgdaBound{Δ₁}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TSub}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaBound{Δ₁}\AgdaSymbol{\}\{}\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSymbol{\}\{}\AgdaBound{Γ₃}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSymbol{\}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaBound{Γ₃}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∘ᵣₛ}}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaBound{Γ₃}\<%
\\
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}>>RS\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Δ₃}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSymbol{\}\{}\AgdaArgument{ρ*}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSymbol{\}\{}\AgdaArgument{σ*}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSymbol{\}\{}\AgdaArgument{Γ₃}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ₃}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSpace{}%
\AgdaBound{Γ₃}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{fusion-Tsub-Tren}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\end{code}\end{AgdaSuppressSpace}\end{AgdaAlign}}

\newcommand*\SubDefECompositionSR{\begin{AgdaAlign}\begin{AgdaSuppressSpace}\begin{code}%
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}>>SR\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Δ₁}\AgdaSymbol{\}\{}\AgdaBound{Δ₂}\AgdaSymbol{\}\{}\AgdaBound{Δ₃}\AgdaSymbol{\}\{}\AgdaBound{σ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TSub}\AgdaSpace{}%
\AgdaBound{Δ₁}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TRen}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaBound{Δ₁}\AgdaSymbol{\}\{}\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSymbol{\}\{}\AgdaBound{Γ₃}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSymbol{\}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ERen}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaBound{Γ₃}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ*}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∘ₛᵣ}}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaBound{Γ₃}\<%
\\
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}>>SR\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Δ₃}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSymbol{\}\{}\AgdaArgument{σ*}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSymbol{\}\{}\AgdaArgument{ρ*}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSymbol{\}\{}\AgdaArgument{Γ₃}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ₃}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSpace{}%
\AgdaBound{Γ₃}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{fusion-Tren-Tsub}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{σ*}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Eren}\AgdaSpace{}%
\AgdaBound{ρ*}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\end{code}\end{AgdaSuppressSpace}\end{AgdaAlign}}

\newcommand*\SubDefECompositionSS{\begin{AgdaAlign}\begin{AgdaSuppressSpace}\begin{code}%
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}>>SS\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Δ₁}\AgdaSymbol{\}\{}\AgdaBound{Δ₂}\AgdaSymbol{\}\{}\AgdaBound{Δ₃}\AgdaSymbol{\}\{}\AgdaBound{σ₁*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TSub}\AgdaSpace{}%
\AgdaBound{Δ₁}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{σ₂*}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TSub}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaBound{Δ₁}\AgdaSymbol{\}\{}\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaBound{Δ₂}\AgdaSymbol{\}\{}\AgdaBound{Γ₃}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{TEnv}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSymbol{\}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ₁*}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaBound{σ₂*}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaBound{Γ₃}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{ESub}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ₁*}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∘ₛₛ}}\AgdaSpace{}%
\AgdaBound{σ₂*}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaBound{Γ₃}\<%
\\
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}>>SS\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Δ₃}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSymbol{\}\{}\AgdaArgument{σ₁*}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{σ₁*}\AgdaSymbol{\}\{}\AgdaArgument{σ₂*}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{σ₂*}\AgdaSymbol{\}\{}\AgdaArgument{Γ₃}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ₃}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{σ₁}\AgdaSpace{}%
\AgdaBound{σ₂}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{Expr}\AgdaSpace{}%
\AgdaBound{Δ₃}\AgdaSpace{}%
\AgdaBound{Γ₃}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{fusion-Tsub-Tsub}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaBound{σ₁*}\AgdaSpace{}%
\AgdaBound{σ₂*}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Esub}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{σ₂}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ₁}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\end{code}\end{AgdaSuppressSpace}\end{AgdaAlign}}
